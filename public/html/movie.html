<h1>Search for a movie</h1>
<div ng-app="myapp" ng-controller="movieAPI">
    <movie-summary movie="movie.selected"></movie-summary>
    <!--<p>Selected: {{movie.selected.title}}</p>-->
    <ui-select ng-model="movie.selected"
               theme="bootstrap"
               ng-disabled="disabled"
               reset-search-input="false"
               on-select="movieChanged(movie.selected)">
        <ui-select-match placeholder="Search for a movie...">{{$select.selected.title}}</ui-select-match>
        <ui-select-choices repeat="movie in movies"
                           refresh="refreshMovie($select.search)"
                           refresh-delay="0">
            <div ng-bind-html="movie.title | highlight: $select.search"></div>
        </ui-select-choices>
    </ui-select>
    <movie-chat movie="movie.selected"></movie-chat>
</div>